<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <!-- Title -->
    <title>Love Stories</title>

    <!--META TAG-->
    <meta name="ad.size" content="width=300,height=250">

    <!--CUSTOM STYLE-->
    <link rel="stylesheet" href="css/style.css">

<body onload="myFunc()">

    <div id="banner">
        <img src="assets/logo.png" alt="logo" id="logo">

        <div class="text1" id="text1">
            <span id="typedtext1"></span>
            <span id="cursor1">|</span>
        </div>

        <div class="text2" id="text2">
            <span id="typedtext2"></span>
            <span id="cursor2">|</span>
        </div>

        <div id="recTopRight" class="recTop">
            <img src="assets/product4.png" alt="product4" id="product4">
            <img src="assets/product42.png" alt="product42" id="product42">
        </div>

        <div id="recTopLeft" class="recTop">
            <img src="assets/product1.png" alt="product1" id="product1">
        </div>
        
        <div id="recBottomLeft" class="recBottom">
            <img src="assets/product2.png" alt="product2" id="product2">
            <img src="assets/product22.png" alt="product22" id="product22">
        </div>

        <div id="recBottomRight" class="recBottom">
            <img src="assets/product3.png" alt="product3" id="product3">
        </div>

        <img src="assets/cta.png" alt="cta" id="cta">

    </div>
    <!--END OF /. BANNER-->

    <!--CUSTOM SCRIPT-->
    <script src="https://s0.2mdn.net/ads/studio/cached_libs/gsap_3.5.1_min.js"></script>

    <script>
        if(screen.width >= 320 && screen.width <= 480){
            console.log('asdasd');
            document.getElementById('text1').style.fontSize = "3.5rem";
            document.getElementById('text1').style.letterSpacing = "-8px";
            document.getElementById("text2").style.fontSize = "1.7rem";
            document.getElementById("text2").style.letterSpacing = "-3px";
        }
        var timerHandle;
        // set up text to print, each item in array is new line
        var aText = new Array(
            "Start your day ",
            "with some",
            "self love"
        );

        var bText = new Array(
            "Everyday lingerie classics"
        );

        //cursor blink animation
        let cursor1 = gsap.to('#cursor1', {opacity: 0, ease: 'power2.inOut', repeat: -1});
        let cursor2 = gsap.to('#cursor2', {opacity: 0, ease: 'power2.inOut', repeat: -1});

        var iSpeed = 80; // time delay of print out
        var iIndex = 0; // start printing array at this posision
        var iArrLength = aText[0].length; // the length of the text array\
        var iScrollAt = 1000; // start scrolling up at this many lines

        var iTextPos = 0; // initialise text position
        var sContents = ''; // initialise contents variable
        var iRow; // initialise current row

        var ySpeed = 80; // time delay of print out
        var yIndex = 0; // start printing array at this posision
        var yArrLength = bText[0].length; // the length of the text array
        var yScrollAt = 20; // start scrolling up at this many lines

        var yTextPos = 0; // initialise text position
        var yContents = ''; // initialise contents variable
        var yRow; // initialise current row

        function typewriter() {
            sContents = '';
            iRow = Math.max(0, iIndex - iScrollAt);
            var destination = document.getElementById("typedtext1");
            while (iRow < iIndex) {
                sContents += aText[iRow++] + '<br />';
            }

            if(destination.innerHTML == "Start your da"){
                iSpeed = 800;
            }
            if(destination.innerHTML == "Start your day"){
                iSpeed = 80;
            }
            destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos);
            if (iTextPos++ == iArrLength) {
                iTextPos = 0;
                iIndex++;
                if (iIndex != aText.length) {
                    iArrLength = aText[iIndex].length;
                    setTimeout("typewriter()", 150);
                }
            } else {
                setTimeout("typewriter()", iSpeed);
            }
        }

        function typewriter2() {
            yContents = '';
            yRow = Math.max(0, yIndex - yScrollAt);
            var destination2 = document.getElementById("typedtext2");

            while (yRow < yIndex) {
                yContents += bText[yRow++] + '<br />';
            }
            destination2.innerHTML = yContents + bText[yIndex].substring(0, yTextPos);
            if (yTextPos++ == yArrLength) {
                yTextPos = 0;
                yIndex++;
                if (yIndex != bText.length) {
                    yArrLength = bText[yIndex].length;
                    setTimeout("typewriter2()", 150);
                }
            } else {
                setTimeout("typewriter2()", ySpeed);
            }
        }

        function cursor1Display(){
            var tl = gsap.timeline();
            tl
            .to('#cursor1', {duration: 0, display: 'inline'});
        }

        function cursor2Display(){
            var tl = gsap.timeline();
            tl
            .to('#cursor2', {duration: 0, display: 'inline'});
        }

        function otherFunctions1(){
            var tl = gsap.timeline();
            tl
            .add('f1')
            .to('#cursor1', {duration: 0, display: 'none'}, 'f1')
            .to('.text1', {duration: 0.5, x: 75, y: -56, scale: 0.5}, 'f1')
            .to('#recTopLeft, #recTopRight, #recBottomLeft, #recBottomRight', {display: 'block'}, 'f1')

            .add('f2', '-=0.15')
            .to('#recTopLeft', {duration: 0.65, opacity: 1, ease: 'power0.none'}, 'f2')
            .to('#recBottomRight', {duration: 0.65, y: 0, opacity: 1,  ease: 'power0.none'}, 'f2')
            // .to('#recTopLeft, #recTopRight, #recBottomLeft, #recBottomRight', {duration: 0, 'z-index': 0}, 'f2+=0.5')

            .add('f3')
            .to('.text1', {duration: 0.35, opacity: 0, ease: 'power0.none'}, 'f3')
            .to('#cta', {duration: 0.35, y: 0, ease: 'power2.out'}, 'f3+=0.35')
            .to('#product4, #product42', {duration: 0.5, x: 0, ease: 'power2.out'}, 'f3+=0.35')
            .to('#recBottomLeft', {duration: 0.5, x: 0, ease: 'power2.out'}, 'f3+=0.35');
        }

        function otherFunctions2(){
            var tl = gsap.timeline();
            tl
            .add('f4', '+=1')
            .to('#recTopLeft', {duration: 0.5, height: 67, ease: 'power0.none'}, 'f4')
            .to('#product1', {duration: 0.5, y: 0, ease: 'power0.none'}, 'f4')
            .to('#recTopRight', {duration: 0.5, height: 67, ease: 'power0.none'}, 'f4')
            .to('#product4', {duration: 0.5, y: 0, ease: 'power0.none'}, 'f4')
            .to('#recBottomLeft', {duration: 0.5, height: 67, top: 105, ease: 'power0.none'}, 'f4')
            .to('#product2', {duration: 0.5, y: 0, ease: 'power0.none'}, 'f4')
            .to('#recBottomRight', {duration: 0.5, height: 67, top: 105, ease: 'power0.none'}, 'f4')
            .to('#product3', {duration: 0.5, y: 0, ease: 'power0.none'}, 'f4')
            .to('#product22, #product42', {duration: 0.1, opacity: 0, ease: 'power0.none'}, 'f4');
        }

        function cta(){
            var tl = gsap.timeline();
            tl
            .to('#cursor2', {duration: 0, display: 'none'})
            .to('#cta', {duration: 0.3, y: 3, yoyo: true, repeat: 3, ease: 'power2.inOut'}, '+=0.5')
        }

        function myFunc(){
            typewriter();
            cursor1Display();
            setTimeout(() => {
                otherFunctions1();
            }, 4800);
            setTimeout(() => {
                otherFunctions2();
            }, 7600);
            setTimeout(() => {
                cursor2Display();
            }, 8200);
            setTimeout(() => {
                typewriter2();
            }, 8900);
            setTimeout(() => {
                cta();
            }, 12000);
            setTimeout(function(){
            window.location.reload();
            }, 17000);
        }
        
    
    </script>
    <!-- DCM Code -->
    <script type="text/javascript">
        var clickTag = "https://lovestoriesintimates.com/";
        var banner = document.getElementById("banner");
        banner.style.cursor = "pointer";

        banner.addEventListener("click", goURL);


        function goURL() {
            window.open(clickTag);
        }
    </script>
</body>

</html>